{% extends 'calculator/base.html' %}

{% block title %}Calculator{% endblock title %}

{% block content %}
<div id="papersList">
    <textarea name="" id="papersSearch" cols="30" rows="1"></textarea>

    <input type="checkbox" name="selectAllPapers" id="selectAllPapers">
    <label for="selectAllPapers">Select all</label>

    <ol>
        {% for paper in papers %}

        <section>
            <h2>
                <input type="checkbox" name="{{ paper.id }}_select" id="{{ paper.id }}_select">
                <label for="{{ paper.id }}_select">{{ paper.title }}</label>
            </h2>

            <table>
                <thead>
                    <tr>
                        <th></th>
                        <th>Monday</th>
                        <th>Tuesday</th>
                        <th>Wednesday</th>
                        <th>Thursday</th>
                        <th>Friday</th>
                        <th>Saturday</th>
                        <th>Sunday</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th>Delivery</th>
                        {% for day in paper.days %}
                        <td>
                            <input type="checkbox" name="{{ paper.id }}_{{ day.id }}_delivery" id="{{ paper.id }}_{{ day.id }}_delivery" {% if day.delivery %}checked{% endif %}>
                        </td>
                        {% endfor %}
                    </tr>
                    <tr>
                        <th>Cost</th>
                        {% for day in paper.days %}
                        <td>
                            <!-- <input type="number" name="{{ paper.id }}_{{ day.id }}_cost" id="{{ paper.id }}_{{ day.id }}_cost" value="{{ day.cost }}"> -->

                            {{ day.cost }}
                        </td>
                        {% endfor %}
                    </tr>
                </tbody>
            </table>
        </section>

        <button id="{{ paper.title }}_edit">Edit</button>
        <button id="{{ paper.title }}_delete">Delete</button>

        {% endfor %}
    </ol>
</div>

<div id="calendar">
    <section>
        <button id="prevMonth">Previous Month</button>
        <select id="monthInput">
            <option value="January">January</option>
            <option value="February">February</option>
            <option value="March">March</option>
            <option value="April">April</option>
            <option value="May">May</option>
            <option value="June">June</option>
            <option value="July">July</option>
            <option value="August">August</option>
            <option value="September">September</option>
            <option value="October">October</option>
            <option value="November">November</option>
            <option value="December">December</option>
        </select>
        <input type="number" id="yearInput" value="2023">
        <button id="nextMonth">Next Month</button>
    </section>

    <table>
        <thead>
            <tr>
                <th>M</th>
                <th>T</th>
                <th>W</th>
                <th>T</th>
                <th>F</th>
                <th>S</th>
                <th>S</th>
            </tr>
        </thead>
        <tbody>
            {% for week in calendar %}
            <tr>
                {% for day in week %}
                
                    {% if day.day == 0 %}
                        <td></td>

                    {% else %}

                        {% if day.undelivered == 1 %}
                            <td class="undelivered">

                        {% else %}
                            <td>
                        {% endif %}
                                {{ day.day }}
                                
                            </td>
                    {% endif %}
                {% endfor %}
            </tr>
            {% endfor %}
    </table>
</div>

<div id="results">
    <table>
        <thead>
            <tr>
                <td>Paper</td>
                <td>Cost</td>
            </tr>
        </thead>
        <tbody>
            {% for paper in papers %}
            <tr>
                <td>{{ paper.title }}</td>
                <td>{{ paper.total_cost }}</td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <td>Total</td>
                <td>{{ total_cost }}</td>
            </tr>
        </tfoot>
    </table>

    <button id="copy">Copy</button>
    <button id="save">Save</button>
</div>

{% endblock content %}